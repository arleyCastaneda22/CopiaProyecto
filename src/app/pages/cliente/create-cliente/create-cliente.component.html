<div class="container mt-5">
  <div class="card sombra">
    <div class="card-body">
      <form [formGroup]="myForm" method="post">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="" class="form-label required">Nombre</label>
            <input type="text" class="form-control" formControlName="nombre" placeholder="Ingrese nombre" [ngClass]="{'input-error':myForm.get('nombre')?.invalid && myForm.get('nombre')?.touched,
              'input-pattern-error': myForm.get('nombre')?.hasError('pattern') }">
            <span class="text-danger" *ngIf="myForm.get('nombre')?.invalid && myForm.get('nombre')?.touched ">
              El nombre es requerido
            </span><br>
            <span class="text-danger" *ngIf="myForm.get('nombre')?.hasError('pattern')">
              El nombre no debe contener números ni espacios en blanco.
            </span><br>
            <span class="text-danger" *ngIf="myForm.get('nombre')?.hasError('maxlength')">
              El nombre no puede tener más de 20 caracteres.
            </span>
            <span class="text-danger" *ngIf="myForm.get('nombre')?.hasError('minlength')">
              El nombre no puede tener menos de 3 caracteres.
            </span>
          </div>
          <div class="form-group col-md-6">
            <label for="" class="form-label required">Apellido</label>
            <input type="text" class="form-control" formControlName="apellido" placeholder="Ingrese apellido" [ngClass]="{'input-error':myForm.get('apellido')?.invalid && myForm.get('apellido')?.touched,
              'input-pattern-error': myForm.get('apellido')?.hasError('pattern')}">
            <span class="text-danger" *ngIf="myForm.get('apellido')?.invalid && myForm.get('apellido')?.touched">
              El apellido es requerido
            </span><br>
            <span class="text-danger" *ngIf="myForm.get('apellido')?.hasError('pattern')">
              El apellido no debe contener números ni espacios en blanco.
            </span>
            <br>
            <span class="text-danger" *ngIf="myForm.get('apellido')?.hasError('maxlength')">
              El apellido no puede tener más de 20 caracteres.
            </span>
            <span class="text-danger" *ngIf="myForm.get('apellido')?.hasError('minlength')">
              El apellido no puede tener menos de 3 caracteres.
            </span>

          </div>
        </div>
        <div class="mb-3">
          <label for="" class="form-label required">Email </label>
          <input type="email" class="form-control" formControlName="email" placeholder="Ingrese correo electrónico"
            [ngClass]="{'input-error':myForm.get('email')?.invalid && myForm.get('email')?.touched,
            'input-pattern-error': myForm.get('email')?.hasError('sinExtensionCom')}">
          <span class="text-danger" *ngIf="myForm.get('email')?.invalid && myForm.get('email')?.touched">
            El email es requerido.

          </span><br>
          <span class="text-danger" *ngIf="myForm.get('email')?.hasError('sinExtensionCom')">
            El correo electrónico debe una extensión válida.
          </span>
        </div>
        <div class="mb-3">
          <label for="" class="form-label required">Teléfono</label>
          <input type="text" class="form-control" formControlName="telefono" placeholder="Ingrese teléfono"
            [ngClass]="{'input-error':myForm.get('telefono')?.invalid && myForm.get('telefono')?.touched, 'input-pattern-error': myForm.get('telefono')?.hasError('pattern')}">
          <span class="text-danger" *ngIf="myForm.get('telefono')?.invalid && myForm.get('telefono')?.touched">
            El telefono es requerido
          </span>
          <span class="text-danger" *ngIf="myForm.get('telefono')?.hasError('pattern')">
            El teléfono debe tener entre 7 y 10 dígitos y no puede iniciar en 0
          </span>
        </div>
        <div class="mb-3">
          <label for="" class="form-label required">Dirección</label>
          <input type="text" class="form-control" formControlName="direccion" placeholder="Ingrese dirección"
            [ngClass]="{'input-error':myForm.get('direccion')?.invalid && myForm.get('direccion')?.touched}">
          <span class="text-danger" *ngIf="myForm.get('direccion')?.invalid && myForm.get('direccion')?.touched">
            La dirección es requerida
          </span>
        </div>
        <div class="mb-3">
          <div class="form-group ">
            <label for="" class="form-label">Ingrese su contraseña: </label>
            <input class="form-control input" type="password" formControlName="contrasena" >
            <span class="text-danger" *ngIf="myForm.get('contrasena')?.hasError('required') && myForm.get('contrasena')?.touched">
              La contraseña es requerida
            </span>
            <span class="text-danger" *ngIf="myForm.get('contrasena')?.hasError('noUppercase') && myForm.get('contrasena')?.touched && myForm.get('contrasena')?.value.length > 0">
              La contraseña debe contener al menos una letra mayúscula y una minúscula
            </span>
            <span class="text-danger" *ngIf="myForm.get('contrasena')?.hasError('invalidLength') && myForm.get('contrasena')?.touched">
              La contraseña debe tener entre 8 y 15 caracteres
            </span>
          </div>

            <div class="form-group">
              <label for="" class="form-label">Confirme su contraseña: </label>
              <input class="form-control input" type="password" formControlName="recontrasena" >
              <span class="text-danger" *ngIf="myForm.get('recontrasena')?.invalid && myForm.get('recontrasena')?.touched">
                  La confirmación de contraseña es requerida
              </span>
              <span class="text-danger" *ngIf="myForm.get('recontrasena')?.hasError('noUppercase') && myForm.get('recontrasena')?.touched && myForm.get('recontrasena')?.value.length > 0">
                  La contraseña debe contener al menos una letra mayúscula y una minúscula
              </span>
              <span class="text-danger" *ngIf="myForm.get('recontrasena')?.hasError('invalidLength') && myForm.get('recontrasena')?.touched">
                La contraseña debe tener entre 8 y 15 caracteres
              </span>
            </div>
          </div>
        <div class="mb-3">

          <select class="form-control"  formControlName="roles" hidden [disabled]="myForm.get('roles')!.disabled">
            <option *ngFor="let role of roles" [value]="role.nombre" >{{role.nombre}}</option>
          </select>
          <span class="text-danger"
          *ngIf="myForm.get('roles')?.invalid && myForm.get('roles')?.touched">
          Por favor, seleccione un rol
      </span>
        </div>
        <div class="botones">
        <button type="submit" [ngClass]="{'disabled':myForm.invalid, 'activo': myForm.valid}"
          [disabled]="myForm.invalid" (click)="onSave(myForm.value)">Guardar</button>
          <button type="button" class="btn btn-primary btn-bg" routerLink="/dashboard/cliente/list">Atrás</button>
        </div>
      </form>
    </div>
  </div>
</div>
